prompt --application/deployment/install/upgrade_update_status_colors
begin
--   Manifest
--     INSTALL: UPGRADE-Update Status Colors
--   Manifest End
wwv_flow_api.component_begin (
 p_version_yyyy_mm_dd=>'2021.04.15'
,p_release=>'21.1.7'
,p_default_workspace_id=>9008156634332785
,p_default_application_id=>134
,p_default_id_offset=>172493832712964115
,p_default_owner=>'MISO'
);
wwv_flow_api.create_install_script(
 p_id=>wwv_flow_api.id(7445346649412317183)
,p_install_id=>wwv_flow_api.id(9012014618759672631)
,p_name=>'Update Status Colors'
,p_sequence=>390
,p_script_type=>'UPGRADE'
,p_script_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'declare',
'    l_image_prefix  varchar2(255);',
'begin',
'    l_image_prefix := v(''IMAGE_PREFIX'');',
'',
'    -- In case this old color is still around.',
'    update eba_proj_color_codes set color_name = ''GRAY'' where upper(color_name) = ''DARK GRAY'';',
'',
'    merge into eba_proj_color_codes dest using (',
'        select ''BLACK'' color_name,',
'            ''#303030'' color_code,',
'            l_image_prefix||''eba/img/status_indicator.png'' sprite_url,',
'            0 sprite_position_x,',
'            -120 sprite_position_y,',
'            1 display_sequence,',
'            ''Y'' is_active_yn',
'        from dual',
'        union all',
'        select ''BLUE'' color_name,',
'            ''#4183D7'' color_code,',
'            l_image_prefix||''eba/img/status_indicator.png'' sprite_url,',
'            0 sprite_position_x,',
'            -120 sprite_position_y,',
'            1 display_sequence,',
'            ''Y'' is_active_yn',
'        from dual',
'        union all',
'        select ''BLUESKY'' color_name,',
'            ''#6BB9F0'' color_code,',
'            l_image_prefix||''eba/img/status_indicator.png'' sprite_url,',
'            0 sprite_position_x,',
'            -120 sprite_position_y,',
'            1 display_sequence,',
'            ''Y'' is_active_yn',
'        from dual',
'        union all',
'        select ''BROWN'' color_name,',
'            ''#D88935'' color_code,',
'            l_image_prefix||''eba/img/status_indicator.png'' sprite_url,',
'            0 sprite_position_x,',
'            -120 sprite_position_y,',
'            1 display_sequence,',
'            ''Y'' is_active_yn',
'        from dual',
'        union all',
'        select ''CYAN'' color_name,',
'            ''#1ABC9C'' color_code,',
'            l_image_prefix||''eba/img/status_indicator.png'' sprite_url,',
'            0 sprite_position_x,',
'            -120 sprite_position_y,',
'            1 display_sequence,',
'            ''Y'' is_active_yn',
'        from dual',
'        union all',
'        select ''DARKBLUE'' color_name,',
'            ''#1F5F97'' color_code,',
'            l_image_prefix||''eba/img/status_indicator.png'' sprite_url,',
'            0 sprite_position_x,',
'            -120 sprite_position_y,',
'            1 display_sequence,',
'            ''Y'' is_active_yn',
'        from dual',
'        union all',
'        select ''GRAY'' color_name,',
'            ''#A0A0A0'' color_code,',
'            l_image_prefix||''eba/img/status_indicator.png'' sprite_url,',
'            0 sprite_position_x,',
'            -120 sprite_position_y,',
'            1 display_sequence,',
'            ''Y'' is_active_yn',
'        from dual',
'        union all',
'        select ''GREEN'' color_name,',
'            ''#2ECC71'' color_code,',
'            l_image_prefix||''eba/img/status_indicator.png'' sprite_url,',
'            0 sprite_position_x,',
'            -80 sprite_position_y,',
'            1 display_sequence,',
'            ''Y'' is_active_yn',
'        from dual',
'        union all',
'        select ''LIME'' color_name,',
'            ''#28A346'' color_code,',
'            l_image_prefix||''eba/img/status_indicator.png'' sprite_url,',
'            0 sprite_position_x,',
'            -120 sprite_position_y,',
'            1 display_sequence,',
'            ''Y'' is_active_yn',
'        from dual',
'        union all',
'        select ''ORANGE'' color_name,',
'            ''#F39C12'' color_code,',
'            l_image_prefix||''eba/img/status_indicator.png'' sprite_url,',
'            0 sprite_position_x,',
'            -120 sprite_position_y,',
'            1 display_sequence,',
'            ''Y'' is_active_yn',
'        from dual',
'        union all',
'        select ''RED'' color_name,',
'            ''#D91E18'' color_code,',
'            l_image_prefix||''eba/img/status_indicator.png'' sprite_url,',
'            0 sprite_position_x,',
'            0 sprite_position_y,',
'            1 display_sequence,',
'            ''Y'' is_active_yn',
'        from dual',
'        union all',
'        select ''SILVER'' color_name,',
'            ''#BDC3C7'' color_code,',
'            l_image_prefix||''eba/img/status_indicator.png'' sprite_url,',
'            0 sprite_position_x,',
'            -160 sprite_position_y,',
'            1 display_sequence,',
'            ''Y'' is_active_yn',
'        from dual',
'        union all',
'        select ''YELLOW'' color_name,',
'            ''#F1C40F'' color_code,',
'            l_image_prefix||''eba/img/status_indicator.png'' sprite_url,',
'            0 sprite_position_x,',
'            -40 sprite_position_y,',
'            1 display_sequence,',
'            ''Y'' is_active_yn',
'        from dual ) src',
'    on ( dest.color_name = src.color_name )',
'    when not matched then',
'        insert (color_name, color_code, sprite_url, sprite_position_x, sprite_position_y, display_sequence, is_active_yn)',
'        values (src.color_name, src.color_code, src.sprite_url, src.sprite_position_x, src.sprite_position_y, src.display_sequence, src.is_active_yn)',
'    when matched then',
'        update set color_code = src.color_code;',
'',
'end;'))
);
wwv_flow_api.component_end;
end;
/
